---
import prices from '../../data/prices.json';
const featured = prices.filter(p => ['al-perf-limpio','cobre-cable','laton'].includes(p.id));
---

<div class="bg-base">
  <div class="container-x py-4">
    <div class="grid grid-cols-1 sm:grid-cols-3 divide-y sm:divide-y-0 sm:divide-x divide-white/10">
      {featured.map((item) => {
        const waMsg = encodeURIComponent(`Hola Exportandes, quiero vender ${item.name}. Favor indicar cotizacion y retiro.`);
        return (
          <div class="flex items-center justify-between gap-4 py-3 sm:py-0 sm:px-6 first:pl-0 last:pr-0">
            <div>
              <span class="text-white/50 text-xs">{item.name}</span>
              <div class="flex items-baseline gap-1.5">
                <span class="font-mono font-bold text-white text-lg">${item.price.toLocaleString('es-CL')}</span>
                <span class="text-white/40 text-xs">/{item.unit.split('/')[1]}</span>
                {item.trend === 'up' && (
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#2da77a" stroke-width="3" class="ml-1" aria-label="Alza"><path d="M18 15l-6-6-6 6"/></svg>
                )}
              </div>
            </div>
            <a
              href={`https://wa.me/56933301114?text=${waMsg}`}
              target="_blank"
              rel="noopener"
              class="text-xs font-display font-semibold text-trust hover:text-white transition-colors whitespace-nowrap"
            >
              Vender &rarr;
            </a>
          </div>
        );
      })}
    </div>
  </div>
</div>
