---
interface Props {
  title: string;
  subtitle?: string;
  cta?: { label: string; href: string };
  ctaSecondary?: { label: string; href: string };
  small?: boolean;
}
const { title, subtitle, cta, ctaSecondary, small = false } = Astro.props;
const waUrl = 'https://wa.me/56933301114?text=Hola%20Exportandes%2C%20quiero%20vender%20mi%20material.';
const mainCta = cta || { label: 'Vender ahora', href: waUrl };
---

<section class:list={['relative overflow-hidden', small ? 'py-16 lg:py-20' : 'py-20 lg:py-32']}>
  <!-- Subtle texture -->
  <div class="absolute inset-0 bg-white"></div>
  <div class="absolute inset-0 opacity-[0.03]" style="background-image: url(&quot;data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h60v60H0z' fill='none'/%3E%3Cpath d='M30 0v60M0 30h60' stroke='%231f2933' stroke-width='.5'/%3E%3C/svg%3E&quot;);"></div>
  <!-- Left accent bar -->
  <div class="absolute left-0 top-0 bottom-0 w-1 bg-accent"></div>

  <div class="relative container-x">
    <div class:list={['max-w-3xl', small ? '' : 'lg:max-w-4xl']}>
      <h1 class:list={[
        'font-display font-extrabold leading-[1.08] text-base',
        small ? 'text-3xl lg:text-4xl' : 'text-4xl sm:text-5xl lg:text-6xl',
      ]} set:html={title} />

      {subtitle && (
        <p class:list={[
          'mt-5 text-base-light leading-relaxed',
          small ? 'text-base max-w-xl' : 'text-lg lg:text-xl max-w-2xl',
        ]}>
          {subtitle}
        </p>
      )}

      <div class="mt-8 flex flex-wrap gap-3">
        <a
          href={mainCta.href}
          target={mainCta.href.startsWith('http') ? '_blank' : undefined}
          rel={mainCta.href.startsWith('http') ? 'noopener' : undefined}
          class="btn-primary"
        >
          {mainCta.label}
        </a>
        {ctaSecondary && (
          <a href={ctaSecondary.href} class="btn-outline">
            {ctaSecondary.label}
          </a>
        )}
      </div>
    </div>
  </div>
</section>
